{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let AllMoviesComponent = class AllMoviesComponent {\n  constructor(service, router) {\n    this.service = service;\n    this.router = router;\n    this.movies = [];\n    this.watchlist = [];\n  }\n  ngOnInit() {\n    this.getMovies();\n  }\n  //? get all movies on the homepage\n  getMovies() {\n    this.service.getAllMovies().subscribe(res => {\n      this.movies = res.results;\n    });\n  }\n  //? navigate specific movie details\n  goToMovie(id) {\n    this.router.navigate(['details', id]);\n  }\n  //? Add/ remove movie to/ from watchlist then add it to Local storage\n  addToWatchlist(movie) {\n    //*if movie id isn't found, add it to watchlist array\n    if (!this.watchlist.includes(movie.id, 0)) {\n      this.watchlist.push(movie.id);\n      console.log(this.watchlist);\n      movie.watchlistStatus = !movie.watchlistStatus;\n      //*if movie id is already inside watchlist array found, remove it\n    } else {\n      let movieToRemove = this.watchlist.indexOf(movie.id);\n      this.watchlist.splice(movieToRemove, 1);\n      console.log(this.watchlist);\n      movie.watchlistStatus = !movie.watchlistStatus;\n    }\n    localStorage.setItem(\"watchlist\", JSON.stringify(this.watchlist));\n  }\n};\nAllMoviesComponent = __decorate([Component({\n  selector: 'app-all-movies',\n  templateUrl: './all-movies.component.html',\n  styleUrls: ['./all-movies.component.css']\n})], AllMoviesComponent);","map":{"version":3,"names":["Component","AllMoviesComponent","constructor","service","router","movies","watchlist","ngOnInit","getMovies","getAllMovies","subscribe","res","results","goToMovie","id","navigate","addToWatchlist","movie","includes","push","console","log","watchlistStatus","movieToRemove","indexOf","splice","localStorage","setItem","JSON","stringify","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\Projects\\MovieMarvels\\src\\app\\movies\\all-movies\\all-movies.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { MoviesService } from '../services/movies.service';\r\nimport { Router } from '@angular/router';\r\nimport { Movies } from 'src/app/shared/interfaces/movies';\r\n\r\n@Component({\r\n  selector: 'app-all-movies',\r\n  templateUrl: './all-movies.component.html',\r\n  styleUrls: ['./all-movies.component.css']\r\n})\r\nexport class AllMoviesComponent {\r\n  \r\n  movies: any[] = []\r\n  watchlist:number[] = []\r\n\r\n  constructor(private service: MoviesService, private router : Router) {}\r\n  ngOnInit() {\r\n    this.getMovies()\r\n  }\r\n  //? get all movies on the homepage\r\n  getMovies() {\r\n    this.service.getAllMovies().subscribe((res: any) => {\r\n      this.movies = res.results\r\n    })\r\n  }\r\n  //? navigate specific movie details\r\n  goToMovie(id : number){\r\n    this.router.navigate(['details',id])\r\n  }\r\n\r\n  //? Add/ remove movie to/ from watchlist then add it to Local storage\r\n  addToWatchlist(movie:Movies){\r\n    //*if movie id isn't found, add it to watchlist array\r\n   if ( !this.watchlist.includes(movie.id,0)){\r\n    this.watchlist.push(movie.id)\r\n    console.log(this.watchlist);\r\n    movie.watchlistStatus = !movie.watchlistStatus;\r\n    \r\n    //*if movie id is already inside watchlist array found, remove it\r\n    }else{\r\n      let movieToRemove = this.watchlist.indexOf(movie.id)\r\n      this.watchlist.splice(movieToRemove,1)\r\n      console.log(this.watchlist);\r\n      movie.watchlistStatus = !movie.watchlistStatus;\r\n    }\r\n    localStorage.setItem(\"watchlist\",JSON.stringify(this.watchlist))\r\n  }\r\n}"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAUlC,WAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAK7BC,YAAoBC,OAAsB,EAAUC,MAAe;IAA/C,KAAAD,OAAO,GAAPA,OAAO;IAAyB,KAAAC,MAAM,GAANA,MAAM;IAH1D,KAAAC,MAAM,GAAU,EAAE;IAClB,KAAAC,SAAS,GAAY,EAAE;EAE+C;EACtEC,QAAQA,CAAA;IACN,IAAI,CAACC,SAAS,EAAE;EAClB;EACA;EACAA,SAASA,CAAA;IACP,IAAI,CAACL,OAAO,CAACM,YAAY,EAAE,CAACC,SAAS,CAAEC,GAAQ,IAAI;MACjD,IAAI,CAACN,MAAM,GAAGM,GAAG,CAACC,OAAO;IAC3B,CAAC,CAAC;EACJ;EACA;EACAC,SAASA,CAACC,EAAW;IACnB,IAAI,CAACV,MAAM,CAACW,QAAQ,CAAC,CAAC,SAAS,EAACD,EAAE,CAAC,CAAC;EACtC;EAEA;EACAE,cAAcA,CAACC,KAAY;IACzB;IACD,IAAK,CAAC,IAAI,CAACX,SAAS,CAACY,QAAQ,CAACD,KAAK,CAACH,EAAE,EAAC,CAAC,CAAC,EAAC;MACzC,IAAI,CAACR,SAAS,CAACa,IAAI,CAACF,KAAK,CAACH,EAAE,CAAC;MAC7BM,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,SAAS,CAAC;MAC3BW,KAAK,CAACK,eAAe,GAAG,CAACL,KAAK,CAACK,eAAe;MAE9C;KACC,MAAI;MACH,IAAIC,aAAa,GAAG,IAAI,CAACjB,SAAS,CAACkB,OAAO,CAACP,KAAK,CAACH,EAAE,CAAC;MACpD,IAAI,CAACR,SAAS,CAACmB,MAAM,CAACF,aAAa,EAAC,CAAC,CAAC;MACtCH,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,SAAS,CAAC;MAC3BW,KAAK,CAACK,eAAe,GAAG,CAACL,KAAK,CAACK,eAAe;;IAEhDI,YAAY,CAACC,OAAO,CAAC,WAAW,EAACC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACvB,SAAS,CAAC,CAAC;EAClE;CACD;AArCYL,kBAAkB,GAAA6B,UAAA,EAL9B9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,C,EACWhC,kBAAkB,CAqC9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}